[{"name": "TestDefaultSuppress", "successes": [["", {}], ["a", {"foo": "a"}], ["a b", {"foo": "a", "bar": ["b"]}], ["--baz", {"baz": true}], ["a --baz", {"foo": "a", "baz": true}], ["--baz a b", {"bar": ["b"], "foo": "a", "baz": true}]], "doc": "Test actions with suppressed defaults", "argument_signatures": [[["foo"], {"default": "==SUPPRESS==", "nargs": "?"}], [["bar"], {"default": "==SUPPRESS==", "nargs": "*"}], [["--baz"], {"default": "==SUPPRESS==", "action": "store_true"}]], "parser_signature": [[], {}], "failures": ["-x"]}, {"name": "TestEmptyAndSpaceContainingArguments", "successes": [[[""], {"y": null, "x": ""}], [["a badger"], {"y": null, "x": "a badger"}], [["-a badger"], {"y": null, "x": "-a badger"}], [["-y", ""], {"y": "", "x": null}], [["-y", "a badger"], {"y": "a badger", "x": null}], [["-y", "-a badger"], {"y": "-a badger", "x": null}], [["--yyy=a badger"], {"y": "a badger", "x": null}], [["--yyy=-a badger"], {"y": "-a badger", "x": null}]], "doc": null, "argument_signatures": [[["x"], {"nargs": "?"}], [["-y", "--yyy"], {"dest": "y"}]], "parser_signature": [[], {}], "failures": ["-y"]}, {"name": "TestNargsRemainder", "successes": [["X", {"y": [], "x": "X", "z": null}], ["-z Z X", {"y": [], "x": "X", "z": "Z"}], ["X A B -z Z", {"y": ["A", "B", "-z", "Z"], "x": "X", "z": null}], ["X Y --foo", {"y": ["Y", "--foo"], "x": "X", "z": null}]], "doc": "Tests specifying a positional with nargs=REMAINDER", "argument_signatures": [[["x"], {}], [["y"], {"nargs": "..."}], [["-z"], {}]], "parser_signature": [[], {}], "failures": ["", "-z", "-z Z"]}, {"name": "TestNargsZeroOrMore", "successes": [["", {"y": [], "x": null}], ["-x", {"y": [], "x": []}], ["-x a", {"y": [], "x": ["a"]}], ["-x a -- b", {"y": ["b"], "x": ["a"]}], ["a", {"y": ["a"], "x": null}], ["a -x", {"y": ["a"], "x": []}], ["a -x b", {"y": ["a"], "x": ["b"]}]], "doc": "Tests specifying an args for an Optional that accepts zero or more", "argument_signatures": [[["-x"], {"nargs": "*"}], [["y"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": []}, {"name": "TestOptionLike", "successes": [["", {"y": null, "x": null, "z": []}], ["-x 2.5", {"y": null, "x": 2.5, "z": []}], ["-x 2.5 a", {"y": null, "x": 2.5, "z": ["a"]}], ["-3.5", {"y": 0.5, "x": null, "z": []}], ["-3-.5", {"y": -0.5, "x": null, "z": []}], ["-3 .5", {"y": 0.5, "x": null, "z": []}], ["a -3.5", {"y": 0.5, "x": null, "z": ["a"]}], ["a", {"y": null, "x": null, "z": ["a"]}], ["a -x 1", {"y": null, "x": 1.0, "z": ["a"]}], ["-x 1 a", {"y": null, "x": 1.0, "z": ["a"]}], ["-3 1 a", {"y": 1.0, "x": null, "z": ["a"]}]], "doc": "Tests options that may or may not be arguments", "argument_signatures": [[["-x"], {"type": "float"}], [["-3"], {"dest": "y", "type": "float"}], [["z"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": ["-x", "-y2.5", "-xa", "-x -a", "-x -3", "-x -3.5", "-3 -3.5", "-x -2.5", "-x -2.5 a", "-3 -.5", "a x -1", "-x -1 a", "-3 -1 a"]}, {"name": "TestOptionalsActionAppend", "successes": [["", {"baz": null}], ["--baz a", {"baz": ["a"]}], ["--baz a --baz b", {"baz": ["a", "b"]}]], "doc": "Tests the append action for an Optional", "argument_signatures": [[["--baz"], {"action": "append"}]], "parser_signature": [[], {}], "failures": ["a", "--baz", "a --baz", "--baz a b"]}, {"name": "TestOptionalsActionAppendConst", "successes": [["", {"b": null}], ["-b", {"b": ["Exception"]}], ["-b -cx -b -cyz", {"b": ["Exception", "x", "Exception", "yz"]}]], "doc": "Tests the append_const action for an Optional", "argument_signatures": [[["-b"], {"action": "append_const", "const": "Exception"}], [["-c"], {"dest": "b", "action": "append"}]], "parser_signature": [[], {}], "failures": ["a", "-c", "a -c", "-bx", "-b x"]}, {"name": "TestOptionalsActionAppendConstWithDefault", "successes": [["", {"b": ["X"]}], ["-b", {"b": ["X", "Exception"]}], ["-b -cx -b -cyz", {"b": ["X", "Exception", "x", "Exception", "yz"]}]], "doc": "Tests the append_const action for an Optional", "argument_signatures": [[["-b"], {"default": ["X"], "action": "append_const", "const": "Exception"}], [["-c"], {"dest": "b", "action": "append"}]], "parser_signature": [[], {}], "failures": ["a", "-c", "a -c", "-bx", "-b x"]}, {"name": "TestOptionalsActionAppendWithDefault", "successes": [["", {"baz": ["X"]}], ["--baz a", {"baz": ["X", "a"]}], ["--baz a --baz b", {"baz": ["X", "a", "b"]}]], "doc": "Tests the append action for an Optional", "argument_signatures": [[["--baz"], {"default": ["X"], "action": "append"}]], "parser_signature": [[], {}], "failures": ["a", "--baz", "a --baz", "--baz a b"]}, {"name": "TestOptionalsActionCount", "successes": [["", {"x": null}], ["-x", {"x": 1}]], "doc": "Tests the count action for an Optional", "argument_signatures": [[["-x"], {"action": "count"}]], "parser_signature": [[], {}], "failures": ["a", "-x a", "-x b", "-x a -x b"]}, {"name": "TestOptionalsActionStore", "successes": [["", {"x": null}], ["-xfoo", {"x": "foo"}]], "doc": "Tests the store action for an Optional", "argument_signatures": [[["-x"], {"action": "store"}]], "parser_signature": [[], {}], "failures": ["a", "a -x"]}, {"name": "TestOptionalsActionStoreConst", "successes": [["", {"y": null}], ["-y", {"y": "object"}]], "doc": "Tests the store_const action for an Optional", "argument_signatures": [[["-y"], {"action": "store_const", "const": "object"}]], "parser_signature": [[], {}], "failures": ["a"]}, {"name": "TestOptionalsActionStoreFalse", "successes": [["", {"z": true}], ["-z", {"z": false}]], "doc": "Tests the store_false action for an Optional", "argument_signatures": [[["-z"], {"action": "store_false"}]], "parser_signature": [[], {}], "failures": ["a", "-za", "-z a"]}, {"name": "TestOptionalsActionStoreTrue", "successes": [["", {"apple": false}], ["--apple", {"apple": true}]], "doc": "Tests the store_true action for an Optional", "argument_signatures": [[["--apple"], {"action": "store_true"}]], "parser_signature": [[], {}], "failures": ["a", "--apple=b", "--apple b"]}, {"name": "TestOptionalsAlmostNumericAndPositionals", "successes": [["", {"y": false, "x": null}], ["-2", {"y": false, "x": "-2"}], ["a", {"y": false, "x": "a"}], ["-k4", {"y": true, "x": null}], ["-k4 a", {"y": true, "x": "a"}]], "doc": "Tests negative number args when almost numeric options are present", "argument_signatures": [[["x"], {"nargs": "?"}], [["-k4"], {"action": "store_true", "dest": "y"}]], "parser_signature": [[], {}], "failures": ["-k3"]}, {"name": "TestOptionalsAlternatePrefixChars", "successes": [["", {"bar": null, "baz": null, "f": false}], ["+f", {"bar": null, "baz": null, "f": true}], ["::ba B", {"bar": "B", "baz": null, "f": false}], ["+f ::bar B", {"bar": "B", "baz": null, "f": true}], ["+f /b", {"bar": null, "baz": 42, "f": true}], ["/ba +f", {"bar": null, "baz": 42, "f": true}]], "doc": "Test an Optional with option strings with custom prefixes", "argument_signatures": [[["+f"], {"action": "store_true"}], [["::bar"], {}], [["/baz"], {"action": "store_const", "const": 42}]], "parser_signature": [[], {"add_help": false, "prefix_chars": "+:/"}], "failures": ["--bar", "-fbar", "-b B", "B", "-f", "--bar B", "-baz", "-h", "--help", "+h", "::help", "/help"]}, {"name": "TestOptionalsAlternatePrefixCharsAddedHelp", "successes": [["", {"bar": null, "baz": null, "f": false}], ["+f", {"bar": null, "baz": null, "f": true}], ["::ba B", {"bar": "B", "baz": null, "f": false}], ["+f ::bar B", {"bar": "B", "baz": null, "f": true}], ["+f /b", {"bar": null, "baz": 42, "f": true}], ["/ba +f", {"bar": null, "baz": 42, "f": true}]], "doc": "When ``-`` not in prefix_chars, default operators created for help\n       should use the prefix_chars in use rather than - or --\n       http://bugs.python.org/issue9444", "argument_signatures": [[["+f"], {"action": "store_true"}], [["::bar"], {}], [["/baz"], {"action": "store_const", "const": 42}]], "parser_signature": [[], {"add_help": true, "prefix_chars": "+:/"}], "failures": ["--bar", "-fbar", "-b B", "B", "-f", "--bar B", "-baz"]}, {"name": "TestOptionalsAlternatePrefixCharsMultipleShortArgs", "successes": [["", {"y": false, "x": false, "z": false}], ["-x", {"y": false, "x": true, "z": false}], ["+y -x", {"y": true, "x": true, "z": false}], ["+yz -x", {"y": true, "x": true, "z": true}]], "doc": "Verify that Optionals must be called with their defined prefixes", "argument_signatures": [[["-x"], {"action": "store_true"}], [["+y"], {"action": "store_true"}], [["+z"], {"action": "store_true"}]], "parser_signature": [[], {"add_help": false, "prefix_chars": "+-"}], "failures": ["-w", "-xyz", "+x", "-y", "+xyz"]}, {"name": "TestOptionalsChoices", "successes": [["", {"g": null, "f": null}], ["-f a", {"g": null, "f": "a"}], ["-f c", {"g": null, "f": "c"}], ["-g 0", {"g": 0, "f": null}], ["-g 03", {"g": 3, "f": null}], ["-fb -g4", {"g": 4, "f": "b"}]], "doc": "Tests specifying the choices for an Optional", "argument_signatures": [[["-f"], {"choices": "abc"}], [["-g"], {"type": "int", "choices": [0, 1, 2, 3, 4]}]], "parser_signature": [[], {}], "failures": ["a", "-f d", "-fad", "-ga", "-g 6"]}, {"name": "TestOptionalsDefault", "successes": [["", {"y": 42, "x": null}], ["-xx", {"y": 42, "x": "x"}], ["-yy", {"y": "y", "x": null}]], "doc": "Tests specifying a default for an Optional", "argument_signatures": [[["-x"], {}], [["-y"], {"default": 42}]], "parser_signature": [[], {}], "failures": ["a"]}, {"name": "TestOptionalsDest", "successes": [["--foo-bar f", {"zabbaz": null, "foo_bar": "f"}], ["--baz g", {"zabbaz": "g", "foo_bar": null}], ["--foo-bar h --baz i", {"zabbaz": "i", "foo_bar": "h"}], ["--baz j --foo-bar k", {"zabbaz": "j", "foo_bar": "k"}]], "doc": "Tests various means of setting destination", "argument_signatures": [[["--foo-bar"], {}], [["--baz"], {"dest": "zabbaz"}]], "parser_signature": [[], {}], "failures": ["a"]}, {"name": "TestOptionalsDoubleDash", "successes": [["", {"foo": null}], ["--foo a", {"foo": "a"}], ["--foo=a", {"foo": "a"}], ["--foo -2.5", {"foo": "-2.5"}], ["--foo=-2.5", {"foo": "-2.5"}]], "doc": "Test an Optional with a double-dash option string", "argument_signatures": [[["--foo"], {}]], "parser_signature": [[], {}], "failures": ["--foo", "-f", "-f a", "a", "--foo -x", "--foo --bar"]}, {"name": "TestOptionalsDoubleDashPartialMatch", "successes": [["", {"bat": null, "badger": false}], ["--bat X", {"bat": "X", "badger": false}], ["--bad", {"bat": null, "badger": true}], ["--badg", {"bat": null, "badger": true}], ["--badge", {"bat": null, "badger": true}], ["--badger", {"bat": null, "badger": true}]], "doc": "Tests partial matching with a double-dash option string", "argument_signatures": [[["--badger"], {"action": "store_true"}], [["--bat"], {}]], "parser_signature": [[], {}], "failures": ["--bar", "--b", "--ba", "--b=2", "--ba=4", "--badge 5"]}, {"name": "TestOptionalsDoubleDashPrefixMatch", "successes": [["", {"ba": null, "badger": false}], ["--ba X", {"ba": "X", "badger": false}], ["--ba=X", {"ba": "X", "badger": false}], ["--bad", {"ba": null, "badger": true}], ["--badg", {"ba": null, "badger": true}], ["--badge", {"ba": null, "badger": true}], ["--badger", {"ba": null, "badger": true}]], "doc": "Tests when one double-dash option string is a prefix of another", "argument_signatures": [[["--badger"], {"action": "store_true"}], [["--ba"], {}]], "parser_signature": [[], {}], "failures": ["--bar", "--b", "--ba", "--b=2", "--badge 5"]}, {"name": "TestOptionalsNargs1", "successes": [["", {"x": null}], ["-x a", {"x": ["a"]}]], "doc": "Tests specifying the 1 arg for an Optional", "argument_signatures": [[["-x"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["a", "-x"]}, {"name": "TestOptionalsNargs3", "successes": [["", {"x": null}], ["-x a b c", {"x": ["a", "b", "c"]}]], "doc": "Tests specifying the 3 args for an Optional", "argument_signatures": [[["-x"], {"nargs": 3}]], "parser_signature": [[], {}], "failures": ["a", "-x", "-x a", "-x a b", "a -x", "a -x b"]}, {"name": "TestOptionalsNargsDefault", "successes": [["", {"x": null}], ["-x a", {"x": "a"}]], "doc": "Tests not specifying the number of args for an Optional", "argument_signatures": [[["-x"], {}]], "parser_signature": [[], {}], "failures": ["a", "-x"]}, {"name": "TestOptionalsNargsOneOrMore", "successes": [["", {"y": "spam", "x": null}], ["-x a", {"y": "spam", "x": ["a"]}], ["-x a b", {"y": "spam", "x": ["a", "b"]}], ["-y a", {"y": ["a"], "x": null}], ["-y a b", {"y": ["a", "b"], "x": null}]], "doc": "Tests specifying an args for an Optional that accepts one or more", "argument_signatures": [[["-x"], {"nargs": "+"}], [["-y"], {"default": "spam", "nargs": "+"}]], "parser_signature": [[], {}], "failures": ["a", "-x", "-y", "a -x", "a -y b"]}, {"name": "TestOptionalsNargsOptional", "successes": [["", {"y": "spam", "x": null, "z": 84, "w": null}], ["-w", {"y": "spam", "x": null, "z": 84, "w": null}], ["-w 2", {"y": "spam", "x": null, "z": 84, "w": "2"}], ["-x", {"y": "spam", "x": 42, "z": 84, "w": null}], ["-x 2", {"y": "spam", "x": "2", "z": 84, "w": null}], ["-y", {"y": null, "x": null, "z": 84, "w": null}], ["-y 2", {"y": "2", "x": null, "z": 84, "w": null}], ["-z", {"y": "spam", "x": null, "z": 42, "w": null}], ["-z 2", {"y": "spam", "x": null, "z": 2, "w": null}]], "doc": "Tests specifying an Optional arg for an Optional", "argument_signatures": [[["-w"], {"nargs": "?"}], [["-x"], {"const": 42, "nargs": "?"}], [["-y"], {"default": "spam", "nargs": "?"}], [["-z"], {"default": "84", "nargs": "?", "type": "int", "const": "42"}]], "parser_signature": [[], {}], "failures": ["2"]}, {"name": "TestOptionalsNargsZeroOrMore", "successes": [["", {"y": "spam", "x": null}], ["-x", {"y": "spam", "x": []}], ["-x a", {"y": "spam", "x": ["a"]}], ["-x a b", {"y": "spam", "x": ["a", "b"]}], ["-y", {"y": [], "x": null}], ["-y a", {"y": ["a"], "x": null}], ["-y a b", {"y": ["a", "b"], "x": null}]], "doc": "Tests specifying an args for an Optional that accepts zero or more", "argument_signatures": [[["-x"], {"nargs": "*"}], [["-y"], {"default": "spam", "nargs": "*"}]], "parser_signature": [[], {}], "failures": ["a"]}, {"name": "TestOptionalsNumeric", "successes": [["", {"one": null}], ["-1 a", {"one": "a"}], ["-1a", {"one": "a"}], ["-1-2", {"one": "-2"}]], "doc": "Test an Optional with a short opt string", "argument_signatures": [[["-1"], {"dest": "one"}]], "parser_signature": [[], {}], "failures": ["-1", "a", "-1 --foo", "-1 -y", "-1 -1", "-1 -2"]}, {"name": "TestOptionalsNumericAndPositionals", "successes": [["", {"y": false, "x": null}], ["a", {"y": false, "x": "a"}], ["-4", {"y": true, "x": null}], ["-4 a", {"y": true, "x": "a"}]], "doc": "Tests negative number args when numeric options are present", "argument_signatures": [[["x"], {"nargs": "?"}], [["-4"], {"action": "store_true", "dest": "y"}]], "parser_signature": [[], {}], "failures": ["-2", "-315"]}, {"name": "TestOptionalsRequired", "successes": [["-x 1", {"x": 1}], ["-x42", {"x": 42}]], "doc": "Tests the an optional action that is required", "argument_signatures": [[["-x"], {"required": true, "type": "int"}]], "parser_signature": [[], {}], "failures": ["a", ""]}, {"name": "TestOptionalsShortLong", "successes": [["", {"verbose": false}], ["-v", {"verbose": true}], ["--verbose", {"verbose": true}], ["-n", {"verbose": true}], ["--noisy", {"verbose": true}]], "doc": "Test a combination of single- and double-dash option strings", "argument_signatures": [[["-v", "--verbose", "-n", "--noisy"], {"action": "store_true"}]], "parser_signature": [[], {}], "failures": ["--x --verbose", "-N", "a", "-v x"]}, {"name": "TestOptionalsSingleDash", "successes": [["", {"x": null}], ["-x a", {"x": "a"}], ["-xa", {"x": "a"}], ["-x -1", {"x": "-1"}], ["-x-1", {"x": "-1"}]], "doc": "Test an Optional with a single-dash option string", "argument_signatures": [[["-x"], {}]], "parser_signature": [[], {}], "failures": ["-x", "a", "--foo", "-x --foo", "-x -y"]}, {"name": "TestOptionalsSingleDashAmbiguous", "successes": [["", {"foorab": null, "foobar": null}], ["-foob a", {"foorab": null, "foobar": "a"}], ["-foor a", {"foorab": "a", "foobar": null}], ["-fooba a", {"foorab": null, "foobar": "a"}], ["-foora a", {"foorab": "a", "foobar": null}], ["-foobar a", {"foorab": null, "foobar": "a"}], ["-foorab a", {"foorab": "a", "foobar": null}]], "doc": "Test Optionals that partially match but are not subsets", "argument_signatures": [[["-foobar"], {}], [["-foorab"], {}]], "parser_signature": [[], {}], "failures": ["-f", "-f a", "-fa", "-foa", "-foo", "-fo", "-foo b"]}, {"name": "TestOptionalsSingleDashCombined", "successes": [["", {"x": false, "z": null, "yyy": null}], ["-x", {"x": true, "z": null, "yyy": null}], ["-za", {"x": false, "z": "a", "yyy": null}], ["-z a", {"x": false, "z": "a", "yyy": null}], ["-xza", {"x": true, "z": "a", "yyy": null}], ["-xz a", {"x": true, "z": "a", "yyy": null}], ["-x -za", {"x": true, "z": "a", "yyy": null}], ["-x -z a", {"x": true, "z": "a", "yyy": null}], ["-y", {"x": false, "z": null, "yyy": 42}], ["-yyy", {"x": false, "z": null, "yyy": 42}], ["-x -yyy -za", {"x": true, "z": "a", "yyy": 42}], ["-x -yyy -z a", {"x": true, "z": "a", "yyy": 42}]], "doc": "Test an Optional with a single-dash option string", "argument_signatures": [[["-x"], {"action": "store_true"}], [["-yyy"], {"action": "store_const", "const": 42}], [["-z"], {}]], "parser_signature": [[], {}], "failures": ["a", "--foo", "-xa", "-x --foo", "-x -z", "-z -x", "-yx", "-yz a", "-yyyx", "-yyyza", "-xyza"]}, {"name": "TestOptionalsSingleDashLong", "successes": [["", {"foo": null}], ["-foo a", {"foo": "a"}], ["-foo -1", {"foo": "-1"}], ["-fo a", {"foo": "a"}], ["-f a", {"foo": "a"}]], "doc": "Test an Optional with a multi-character single-dash option string", "argument_signatures": [[["-foo"], {}]], "parser_signature": [[], {}], "failures": ["-foo", "a", "--foo", "-foo --foo", "-foo -y", "-fooa"]}, {"name": "TestOptionalsSingleDashSubsetAmbiguous", "successes": [["", {"foorab": null, "f": null, "foobar": null}], ["-f a", {"foorab": null, "f": "a", "foobar": null}], ["-fa", {"foorab": null, "f": "a", "foobar": null}], ["-foa", {"foorab": null, "f": "oa", "foobar": null}], ["-fooa", {"foorab": null, "f": "ooa", "foobar": null}], ["-foobar a", {"foorab": null, "f": null, "foobar": "a"}], ["-foorab a", {"foorab": "a", "f": null, "foobar": null}]], "doc": "Test Optionals where option strings are subsets of each other", "argument_signatures": [[["-f"], {}], [["-foobar"], {}], [["-foorab"], {}]], "parser_signature": [[], {}], "failures": ["-f", "-foo", "-fo", "-foo b", "-foob", "-fooba", "-foora"]}, {"name": "TestOptionalsSingleDoubleDash", "successes": [["", {"bar": null, "baz": null, "f": false}], ["-f", {"bar": null, "baz": null, "f": true}], ["--ba B", {"bar": "B", "baz": null, "f": false}], ["-f --bar B", {"bar": "B", "baz": null, "f": true}], ["-f -b", {"bar": null, "baz": 42, "f": true}], ["-ba -f", {"bar": null, "baz": 42, "f": true}]], "doc": "Test an Optional with single- and double-dash option strings", "argument_signatures": [[["-f"], {"action": "store_true"}], [["--bar"], {}], [["-baz"], {"action": "store_const", "const": 42}]], "parser_signature": [[], {}], "failures": ["--bar", "-fbar", "-fbaz", "-bazf", "-b B", "B"]}, {"name": "TestParserDefault42", "successes": [["", {"bar": 42, "foo": 42, "baz": 42}], ["a", {"bar": 42, "foo": "a", "baz": 42}], ["a b", {"bar": ["b"], "foo": "a", "baz": 42}], ["--baz", {"bar": 42, "foo": 42, "baz": true}], ["a --baz", {"bar": 42, "foo": "a", "baz": true}], ["--baz a b", {"bar": ["b"], "foo": "a", "baz": true}]], "doc": "Test actions with a parser-level default of 42", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"nargs": "*"}], [["--baz"], {"action": "store_true"}]], "parser_signature": [[], {"version": "1.0", "argument_default": 42}], "failures": ["-x"]}, {"name": "TestParserDefaultSuppress", "successes": [["", {}], ["a", {"foo": "a"}], ["a b", {"foo": "a", "bar": ["b"]}], ["--baz", {"baz": true}], ["a --baz", {"foo": "a", "baz": true}], ["--baz a b", {"bar": ["b"], "foo": "a", "baz": true}]], "doc": "Test actions with a parser-level default of SUPPRESS", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"nargs": "*"}], [["--baz"], {"action": "store_true"}]], "parser_signature": [[], {"argument_default": "==SUPPRESS=="}], "failures": ["-x"]}, {"name": "TestPositionalsActionAppend", "successes": [["a b c", {"spam": ["a", ["b", "c"]]}]], "doc": "Test the 'append' action", "argument_signatures": [[["spam"], {"action": "append"}], [["spam"], {"action": "append", "nargs": 2}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "a b", "a b c d"]}, {"name": "TestPositionalsChoicesInt", "successes": [["4", {"spam": 4}], ["15", {"spam": 15}]], "doc": "Test a set of integer choices", "argument_signatures": [[["spam"], {"type": "int", "choices": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]}]], "parser_signature": [[], {}], "failures": ["", "--foo", "h", "42", "ef"]}, {"name": "TestPositionalsChoicesString", "successes": [["a", {"spam": "a"}], ["g", {"spam": "g"}]], "doc": "Test a set of single-character choices", "argument_signatures": [[["spam"], {"choices": ["a", "c", "b", "e", "d", "g", "f"]}]], "parser_signature": [[], {}], "failures": ["", "--foo", "h", "42", "ef"]}, {"name": "TestPositionalsNargs1", "successes": [["a", {"foo": ["a"]}]], "doc": "Test a Positional that specifies an nargs of 1", "argument_signatures": [[["foo"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "-x", "a b"]}, {"name": "TestPositionalsNargs2", "successes": [["a b", {"foo": ["a", "b"]}]], "doc": "Test a Positional that specifies an nargs of 2", "argument_signatures": [[["foo"], {"nargs": 2}]], "parser_signature": [[], {}], "failures": ["", "a", "-x", "a b c"]}, {"name": "TestPositionalsNargs2None", "successes": [["a b c", {"foo": ["a", "b"], "bar": "c"}]], "doc": "Test a Positional with 2 nargs followed by one with none", "argument_signatures": [[["foo"], {"nargs": 2}], [["bar"], {}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "a b", "a b c d"]}, {"name": "TestPositionalsNargs2OneOrMore", "successes": [["a b c", {"foo": ["a", "b"], "bar": ["c"]}]], "doc": "Test a Positional with 2 nargs followed by one with one or more", "argument_signatures": [[["foo"], {"nargs": 2}], [["bar"], {"nargs": "+"}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "a b"]}, {"name": "TestPositionalsNargs2Optional", "successes": [["a b", {"foo": ["a", "b"], "bar": null}], ["a b c", {"foo": ["a", "b"], "bar": "c"}]], "doc": "Test a Positional with 2 nargs followed by one optional", "argument_signatures": [[["foo"], {"nargs": 2}], [["bar"], {"nargs": "?"}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "a b c d"]}, {"name": "TestPositionalsNargs2ZeroOrMore", "successes": [["a b", {"foo": ["a", "b"], "bar": []}], ["a b c", {"foo": ["a", "b"], "bar": ["c"]}]], "doc": "Test a Positional with 2 nargs followed by one with unlimited", "argument_signatures": [[["foo"], {"nargs": 2}], [["bar"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsNone", "successes": [["a", {"foo": "a"}]], "doc": "Test a Positional that doesn't specify nargs", "argument_signatures": [[["foo"], {}]], "parser_signature": [[], {}], "failures": ["", "-x", "a b"]}, {"name": "TestPositionalsNargsNone1", "successes": [["a b", {"foo": "a", "bar": ["b"]}]], "doc": "Test a Positional with no nargs followed by one with 1", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "a b c"]}, {"name": "TestPositionalsNargsNoneNone", "successes": [["a b", {"foo": "a", "bar": "b"}]], "doc": "Test two Positionals that don't specify nargs", "argument_signatures": [[["foo"], {}], [["bar"], {}]], "parser_signature": [[], {}], "failures": ["", "-x", "a", "a b c"]}, {"name": "TestPositionalsNargsNoneOneOrMore", "successes": [["a b", {"foo": "a", "bar": ["b"]}], ["a b c", {"foo": "a", "bar": ["b", "c"]}]], "doc": "Test a Positional with no nargs followed by one with one or more", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": "+"}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsNoneOneOrMore1", "successes": [["a b c", {"bar": ["b"], "foo": "a", "baz": ["c"]}], ["a b c d", {"bar": ["b", "c"], "foo": "a", "baz": ["d"]}]], "doc": "Test three Positionals: no nargs, one or more nargs and 1 nargs", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": "+"}], [["baz"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a", "b"]}, {"name": "TestPositionalsNargsNoneOptional", "successes": [["a", {"foo": "a", "bar": null}], ["a b", {"foo": "a", "bar": "b"}]], "doc": "Test a Positional with no nargs followed by one with an Optional", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": "?"}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a b c"]}, {"name": "TestPositionalsNargsNoneOptional1", "successes": [["a b", {"bar": 0.625, "foo": "a", "baz": ["b"]}], ["a b c", {"bar": "b", "foo": "a", "baz": ["c"]}]], "doc": "Test three Positionals: no nargs, optional narg and 1 nargs", "argument_signatures": [[["foo"], {}], [["bar"], {"default": 0.625, "nargs": "?"}], [["baz"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsNoneZeroOrMore", "successes": [["a", {"foo": "a", "bar": []}], ["a b", {"foo": "a", "bar": ["b"]}], ["a b c", {"foo": "a", "bar": ["b", "c"]}]], "doc": "Test a Positional with no nargs followed by one with unlimited", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": ["", "--foo"]}, {"name": "TestPositionalsNargsNoneZeroOrMore1", "successes": [["a b", {"bar": [], "foo": "a", "baz": ["b"]}], ["a b c", {"bar": ["b"], "foo": "a", "baz": ["c"]}]], "doc": "Test three Positionals: no nargs, unlimited nargs and 1 nargs", "argument_signatures": [[["foo"], {}], [["bar"], {"nargs": "*"}], [["baz"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsOneOrMore", "successes": [["a", {"foo": ["a"]}], ["a b", {"foo": ["a", "b"]}]], "doc": "Test a Positional that specifies one or more nargs", "argument_signatures": [[["foo"], {"nargs": "+"}]], "parser_signature": [[], {}], "failures": ["", "-x"]}, {"name": "TestPositionalsNargsOneOrMore1", "successes": [["a b", {"foo": ["a"], "bar": ["b"]}], ["a b c", {"foo": ["a", "b"], "bar": ["c"]}]], "doc": "Test a Positional with one or more nargs followed by one with 1", "argument_signatures": [[["foo"], {"nargs": "+"}], [["bar"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsOneOrMoreNone", "successes": [["a b", {"foo": ["a"], "bar": "b"}], ["a b c", {"foo": ["a", "b"], "bar": "c"}]], "doc": "Test a Positional with one or more nargs followed by one with none", "argument_signatures": [[["foo"], {"nargs": "+"}], [["bar"], {}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a"]}, {"name": "TestPositionalsNargsOptional", "successes": [["", {"foo": null}], ["a", {"foo": "a"}]], "doc": "Tests an Optional Positional", "argument_signatures": [[["foo"], {"nargs": "?"}]], "parser_signature": [[], {}], "failures": ["-x", "a b"]}, {"name": "TestPositionalsNargsOptional1", "successes": [["a", {"foo": null, "bar": ["a"]}], ["a b", {"foo": "a", "bar": ["b"]}]], "doc": "Test a Positional with an Optional nargs followed by one with 1", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a b c"]}, {"name": "TestPositionalsNargsOptionalConvertedDefault", "successes": [["", {"foo": 42}], ["1", {"foo": 1}]], "doc": "Tests an Optional Positional with a default value\n    that needs to be converted to the appropriate type.\n    ", "argument_signatures": [[["foo"], {"default": "42", "type": "int", "nargs": "?"}]], "parser_signature": [[], {}], "failures": ["-x", "a b", "1 2"]}, {"name": "TestPositionalsNargsOptionalDefault", "successes": [["", {"foo": 42}], ["a", {"foo": "a"}]], "doc": "Tests an Optional Positional with a default value", "argument_signatures": [[["foo"], {"default": 42, "nargs": "?"}]], "parser_signature": [[], {}], "failures": ["-x", "a b"]}, {"name": "TestPositionalsNargsOptionalNone", "successes": [["a", {"foo": 42, "bar": "a"}], ["a b", {"foo": "a", "bar": "b"}]], "doc": "Test a Positional with an Optional nargs followed by one with none", "argument_signatures": [[["foo"], {"default": 42, "nargs": "?"}], [["bar"], {}]], "parser_signature": [[], {}], "failures": ["", "--foo", "a b c"]}, {"name": "TestPositionalsNargsOptionalOneOrMore", "successes": [["a", {"foo": null, "bar": ["a"]}], ["a b", {"foo": "a", "bar": ["b"]}], ["a b c", {"foo": "a", "bar": ["b", "c"]}]], "doc": "Test an Optional narg followed by one or more nargs", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"nargs": "+"}]], "parser_signature": [[], {}], "failures": ["", "--foo"]}, {"name": "TestPositionalsNargsOptionalOptional", "successes": [["", {"foo": null, "bar": 42}], ["a", {"foo": "a", "bar": 42}], ["a b", {"foo": "a", "bar": "b"}]], "doc": "Test two optional nargs", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"default": 42, "nargs": "?"}]], "parser_signature": [[], {}], "failures": ["--foo", "a b c"]}, {"name": "TestPositionalsNargsOptionalZeroOrMore", "successes": [["", {"foo": null, "bar": []}], ["a", {"foo": "a", "bar": []}], ["a b", {"foo": "a", "bar": ["b"]}], ["a b c", {"foo": "a", "bar": ["b", "c"]}]], "doc": "Test an Optional narg followed by unlimited nargs", "argument_signatures": [[["foo"], {"nargs": "?"}], [["bar"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": ["--foo"]}, {"name": "TestPositionalsNargsZeroOrMore", "successes": [["", {"foo": []}], ["a", {"foo": ["a"]}], ["a b", {"foo": ["a", "b"]}]], "doc": "Test a Positional that specifies unlimited nargs", "argument_signatures": [[["foo"], {"nargs": "*"}]], "parser_signature": [[], {}], "failures": ["-x"]}, {"name": "TestPositionalsNargsZeroOrMore1", "successes": [["a", {"foo": [], "bar": ["a"]}], ["a b", {"foo": ["a"], "bar": ["b"]}], ["a b c", {"foo": ["a", "b"], "bar": ["c"]}]], "doc": "Test a Positional with unlimited nargs followed by one with 1", "argument_signatures": [[["foo"], {"nargs": "*"}], [["bar"], {"nargs": 1}]], "parser_signature": [[], {}], "failures": ["", "--foo"]}, {"name": "TestPositionalsNargsZeroOrMoreDefault", "successes": [["", {"foo": "bar"}], ["a", {"foo": ["a"]}], ["a b", {"foo": ["a", "b"]}]], "doc": "Test a Positional that specifies unlimited nargs and a default", "argument_signatures": [[["foo"], {"default": "bar", "nargs": "*"}]], "parser_signature": [[], {}], "failures": ["-x"]}, {"name": "TestPositionalsNargsZeroOrMoreNone", "successes": [["a", {"foo": [], "bar": "a"}], ["a b", {"foo": ["a"], "bar": "b"}], ["a b c", {"foo": ["a", "b"], "bar": "c"}]], "doc": "Test a Positional with unlimited nargs followed by one with none", "argument_signatures": [[["foo"], {"nargs": "*"}], [["bar"], {}]], "parser_signature": [[], {}], "failures": ["", "--foo"]}, {"name": "TestPrefixCharacterOnlyArguments", "successes": [["", {"y": 42, "x": null, "z": false}], ["-", {"y": 42, "x": "badger", "z": false}], ["- X", {"y": 42, "x": "X", "z": false}], ["+ -3", {"y": -3, "x": null, "z": false}], ["-+-", {"y": 42, "x": null, "z": true}], ["- ===", {"y": 42, "x": "===", "z": false}]], "doc": null, "argument_signatures": [[["-"], {"dest": "x", "const": "badger", "nargs": "?"}], [["+"], {"default": 42, "dest": "y", "type": "int"}], [["-+-"], {"action": "store_true", "dest": "z"}]], "parser_signature": [[], {"prefix_chars": "-+"}], "failures": ["-y", "+ -"]}]